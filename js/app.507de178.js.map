{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/ParameterControls.vue?ed2f","webpack:///./src/views/DetailedSimulation.vue?0da6","webpack:///./src/App.vue?02b4","webpack:///./src/components/LineChart.vue?2341","webpack:///./src/App.vue","webpack:///./src/components/LocaleChanger.vue","webpack:///./src/components/LocaleChanger.vue?69ae","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/views/DetailedSimulation.vue","webpack:///./src/components/ParameterControls.vue","webpack:///./src/components/ParameterControls.vue?a524","webpack:///./src/components/ParameterControls.vue?1a75","webpack:///./src/HandySimulator.ts","webpack:///./src/store/SimulationParameters.ts","webpack:///./src/components/LineChart.vue","webpack:///./src/components/LineChart.vue?1266","webpack:///./src/components/LineChart.vue?307c","webpack:///./src/views/DetailedSimulation.vue?378c","webpack:///./src/views/DetailedSimulation.vue?871a","webpack:///./src/router.ts","webpack:///./src/i18n.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","id","to","$t","class","$i18n","locale","langs","lang","ownName","de","en","render","components","LocaleChanger","initial-parameters","initialParams","updateParameters","chart-data","chartData","controls","control","currentParameters","$emit","step","min","max","color","onColor","track-color","offColor","tooltip-color","tooltip","Slider","props","initialParameters","required","emits","setup","this","reduce","previousValue","currentValue","Math","normalized","map","unscaled","maximum","params","dt","populationCommoners","initialPopulationCommoners","populationElites","initialPopulationElites","nature","wealth","recordPopulationCommoners","recordPopulationElites","recordNature","recordWealth","recordTime","yearsToModel","wealthThreshold","minimumRequiredConsumptionPerCapita","inequalityFactor","commonersConsumption","subsistenceSalaryPerCapita","elitesConsumption","deathRateCommoners","normalDeathRate","famineDeathRate","deathRateElites","populationCommonersNext","birthRateCommoners","populationElitesNext","birthRateElites","natureNext","regenerationFactor","natureCapacity","depletionPerWorker","wealthNext","round","normalize","normalizedCommoners","maximumPopulationCommoners","normalizedElites","maximumPopulationElites","normalizedNature","normalizedWealth","maxPop","rescaledElites","rescaledCommoners","dataPoints","skipFilter","element","index","datasets","filter","charts","margin","top","right","bottom","left","width","height","draw","svg","d3","attr","append","x","domain","range","y","line","_","v","lineSeries","updateData","selectAll","join","LineChart","ParameterControls","simulationParameters","runSimulation","history","routes","path","component","DetailedSimulation","messages","about","detailPage","getBrowserLocale","options","defaultOptions","trimCountryCode","opt","navigatorLocale","navigator","languages","language","trimmedLocale","trim","split","i18n","fallbackLocale","App","use","router","mount"],"mappings":"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","file":"js/app.507de178.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"81739cff\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"about\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"9ddac486\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/handy-explorer/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ParameterControls.vue?vue&type=style&index=0&id=b6cde594&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DetailedSimulation.vue?vue&type=style&index=0&id=a9fd9f3c&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=ffc0b044&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LineChart.vue?vue&type=style&index=0&id=08654f47&lang=scss\"","<template>\n  <div id=\"nav\">\n    <router-link to=\"/\">\n      {{ $t(\"detailPage\") }}\n    </router-link> |\n    <router-link to=\"/about\">\n      {{ $t(\"about\") }}\n    </router-link>\n    <locale-changer />\n  </div>\n  <router-view />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport LocaleChanger from './components/LocaleChanger.vue';\n\nexport default defineComponent({\n  components: {\n    LocaleChanger,\n  },\n});\n</script>\n\n<style lang=\"scss\">\nbody {\n  height: 100vh;\n}\n#app {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n\n  display: grid;\n}\n\n@media all and (orientation: landscape) {\n  #app {\n    grid-template-areas:\n      'header chart chart'\n      'controls chart chart'\n      'controls chart chart';\n    grid-auto-columns: 33.3%;\n  }\n}\n\n@media all and (orientation: portrait) {\n  #app {\n    grid-template-areas:\n      'header'\n      'controls'\n      'chart';\n    row-gap: 2em;\n  }\n}\n\n#nav {\n  a {\n    font-weight: bold;\n    color: #2c3e50;\n\n    &.router-link-exact-active {\n      color: #42b983;\n    }\n  }\n\n  grid-area: header;\n}\n\n@media (min-width: 768px) {\n  /* Target devices wider than 768px. */\n  #nav {\n    padding: 30px;\n  }\n}\n\n@media (max-width: 767px) {\n  /* Target devices narrower than 768px. */\n}\n</style>","<template>\n  <div class=\"locale-changer\">\n    <select v-model=\"$i18n.locale\">\n      <option v-for=\"(lang, i) in langs\" :key=\"`Lang${i}`\" :value=\"lang\">\n        {{ ownName[lang] }}\n      </option>\n    </select>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'locale-changer',\n  data () {\n    return {\n      langs: ['de', 'en'],\n      ownName: {\n        de: 'Deutsch',\n        en: 'English',\n      }\n    }\n  }\n}\n</script>","import { render } from \"./LocaleChanger.vue?vue&type=template&id=6d64fae1\"\nimport script from \"./LocaleChanger.vue?vue&type=script&lang=js\"\nexport * from \"./LocaleChanger.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from \"vue\";\nimport LocaleChanger from './components/LocaleChanger.vue';\n\nexport default defineComponent({\n  components: {\n    LocaleChanger,\n  },\n});\n","import { render } from \"./App.vue?vue&type=template&id=ffc0b044\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=ffc0b044&lang=scss\"\nscript.render = render\n\nexport default script","<!-- page container focusing on a single simulation -->\n\n<template>\n  <div class=\"controls\">\n    <ParameterControls\n      :initial-parameters=\"initialParams\"\n      @change=\"updateParameters\"\n    />\n  </div>\n  <div class=\"chart\">\n    <LineChart\n      :chart-data=\"chartData\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {computed, defineComponent, ref} from 'vue'\nimport ParameterControls from \"@/components/ParameterControls.vue\";\nimport {HandySimulator} from '@/HandySimulator'\nimport {initialParams, SimulationParameters} from '@/store/SimulationParameters';\nimport LineChart from \"@/components/LineChart.vue\";\n\nexport default defineComponent({\n  components: {\n    LineChart,\n    ParameterControls,\n  },\n  setup() {\n    // Copy initial parameters.\n    const simulationParameters = ref({...initialParams});\n    const updateParameters = function(currentParameters: SimulationParameters) {\n      simulationParameters.value = currentParameters;\n    };\n\n    const chartData = computed(() => {\n      // TODO: Debounce, kill running simulation\n      return new HandySimulator()\n        .runSimulation(simulationParameters.value);\n    });\n\n    return {\n      chartData,\n      initialParams,\n      updateParameters,\n    }\n  }\n});\n</script>\n\n<style>\n  @media (min-width: 768px) {\n    /* Target devices wider than 768px. */\n    .chart {\n      margin: 2vw 2vh;\n    }\n  }\n\n  @media (max-width: 767px) {\n    /* Target devices narrower than 768px. */\n  }\n\n  .controls {\n    grid-area: controls;\n  }\n\n  .chart {\n    grid-area: chart;\n  }\n</style>\n","<template>\n  <template\n    v-for=\"control in controls\"\n    :key=\"control.key\"\n  >\n    <br>{{ $t(control.key) }}\n    <Slider\n      v-model=\"currentParameters[control.key]\"\n      :step=\"control.step\"\n      :min=\"control.min\"\n      :max=\"control.max\"\n      :color=\"control.onColor\"\n      :track-color=\"control.offColor\"\n      tooltip-color=\"#999\"\n      :tooltip=\"true\"\n      @update:modelValue=\"$emit('change', currentParameters)\"\n    />\n  </template>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from 'vue'\nimport {SimulationParameters} from \"@/store/SimulationParameters\";\nimport Slider from \"vue3-slider\";\n\nconst controls = [\n  {\n    key: 'birthRateCommoners',\n    step: 0.001,\n    min: 0,\n    max: 0.1,\n    onColor: \"#9924f4\",\n    offColor: \"#bc7af4\",\n  },\n  {\n    key: 'birthRateElites',\n    step: 0.001,\n    min: 0,\n    max: 0.1,\n    onColor: \"#2b5bf1\",\n    offColor: \"#a8b9f0\",\n  },\n  {\n    // TODO: slider should be logarithmic.\n    key: 'inequalityFactor',\n    step: 0.25,\n    min: 1,\n    max: 100,\n    onColor: \"#decb12\",\n    offColor: \"#f3eec1\",\n  },\n  {\n    key: 'depletionPerWorker',\n    step: 0.000001,\n    min: 0,\n    max: 0.0005,\n    onColor: \"#8e842a\",\n    offColor: \"#b3ad71\",\n  },\n];\n\nexport default defineComponent({\n  name: 'ParameterControls',\n  components: {\n    Slider,\n  },\n  props: {\n    initialParameters: {\n      required: true,\n      type: Object as () => SimulationParameters,\n    }\n  },\n  emits: [ \"change\" ],\n  setup() {\n    return {\n      controls,\n    }\n  },\n  data() {\n    return {\n      currentParameters: this.initialParameters,\n    };\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.vue3-slider .handle {\n  transform: scale(1.0);\n\n  &.hover {\n     transform: scale(1.2);\n  }\n}\n</style>\n","\nimport {defineComponent} from 'vue'\nimport {SimulationParameters} from \"@/store/SimulationParameters\";\nimport Slider from \"vue3-slider\";\n\nconst controls = [\n  {\n    key: 'birthRateCommoners',\n    step: 0.001,\n    min: 0,\n    max: 0.1,\n    onColor: \"#9924f4\",\n    offColor: \"#bc7af4\",\n  },\n  {\n    key: 'birthRateElites',\n    step: 0.001,\n    min: 0,\n    max: 0.1,\n    onColor: \"#2b5bf1\",\n    offColor: \"#a8b9f0\",\n  },\n  {\n    // TODO: slider should be logarithmic.\n    key: 'inequalityFactor',\n    step: 0.25,\n    min: 1,\n    max: 100,\n    onColor: \"#decb12\",\n    offColor: \"#f3eec1\",\n  },\n  {\n    key: 'depletionPerWorker',\n    step: 0.000001,\n    min: 0,\n    max: 0.0005,\n    onColor: \"#8e842a\",\n    offColor: \"#b3ad71\",\n  },\n];\n\nexport default defineComponent({\n  name: 'ParameterControls',\n  components: {\n    Slider,\n  },\n  props: {\n    initialParameters: {\n      required: true,\n      type: Object as () => SimulationParameters,\n    }\n  },\n  emits: [ \"change\" ],\n  setup() {\n    return {\n      controls,\n    }\n  },\n  data() {\n    return {\n      currentParameters: this.initialParameters,\n    };\n  },\n})\n","import { render } from \"./ParameterControls.vue?vue&type=template&id=b6cde594\"\nimport script from \"./ParameterControls.vue?vue&type=script&lang=ts\"\nexport * from \"./ParameterControls.vue?vue&type=script&lang=ts\"\n\nimport \"./ParameterControls.vue?vue&type=style&index=0&id=b6cde594&lang=scss\"\nscript.render = render\n\nexport default script","import { SimulationParameters } from \"@/store/SimulationParameters\";\n\ninterface NormalizedSeries {\n    normalized: number[];\n    maximum: number;\n}\n\nexport interface SimulationResults {\n    datasets: Array<number[]>;\n}\n\nexport class HandySimulator {\n\n    // TODO: Clean up normalization.  Print scale for each line.\n    private normalize(data: number[]): NormalizedSeries {\n        const max = data.reduce(\n            (previousValue: number, currentValue: number) => Math.max(previousValue, currentValue));\n\n        return {\n            normalized: data.map((unscaled: number) => unscaled / max),\n            maximum: max,\n        };\n    }\n\n    // TODO: types for parametric deltas and outputs\n    public runSimulation(params: SimulationParameters): SimulationResults {\n        //const startMark = performance.now();\n        // TODO: const dataPoints = 100;\n        // FIXME: Changing dt makes the model unstable.\n        const dt = 1;\n\n        let populationCommoners = params.initialPopulationCommoners;\n        let populationElites = params.initialPopulationElites;\n        let nature = 100;\n        let wealth = 0;\n\n        const recordPopulationCommoners: number[] = [];\n        const recordPopulationElites: number[] = [];\n        const recordNature: number[] = [];\n        const recordWealth: number[] = [];\n        const recordTime: number[] = [];\n\n        for (let i = 0; i < params.yearsToModel; i += dt) {\n            // Derived variables.\n            const wealthThreshold = params.minimumRequiredConsumptionPerCapita\n                * (populationCommoners + params.inequalityFactor * populationElites);\n            const commonersConsumption = Math.min(1, wealth / wealthThreshold)\n                * params.subsistenceSalaryPerCapita * populationCommoners;\n            const elitesConsumption = Math.min(1, wealth / wealthThreshold)\n                * params.inequalityFactor * params.subsistenceSalaryPerCapita * populationElites;\n            const deathRateCommoners = params.normalDeathRate\n                + Math.max(0, 1 - commonersConsumption / (params.subsistenceSalaryPerCapita * populationCommoners))\n                    * (params.famineDeathRate - params.normalDeathRate);\n            const deathRateElites = params.normalDeathRate\n                + Math.max(0, 1 - elitesConsumption / (params.subsistenceSalaryPerCapita * populationElites))\n                * (params.famineDeathRate - params.normalDeathRate);\n\n            // Update main variables.\n            const populationCommonersNext = Math.max(0, populationCommoners + dt * (\n                populationCommoners * (params.birthRateCommoners - deathRateCommoners)));\n            const populationElitesNext = Math.max(0, populationElites + dt * (\n                populationElites * (params.birthRateElites - deathRateElites)));\n            const natureNext = Math.max(0, nature + dt * (\n                params.regenerationFactor * nature * (params.natureCapacity - nature)\n                - params.depletionPerWorker * populationCommoners * nature));\n            const wealthNext = Math.max(0, wealth + dt * (\n                params.depletionPerWorker * populationCommoners * nature\n                - commonersConsumption\n                - elitesConsumption));\n            populationCommoners = populationCommonersNext;\n            populationElites = populationElitesNext;\n            nature = natureNext;\n            wealth = wealthNext;\n\n            recordPopulationCommoners.push(populationCommoners);\n            recordPopulationElites.push(populationElites);\n            recordNature.push(nature);\n            recordWealth.push(wealth);\n            recordTime.push(Math.round(i));\n        }\n\n        const {normalized: normalizedCommoners, maximum: maximumPopulationCommoners} = this.normalize(recordPopulationCommoners);\n        const {normalized: normalizedElites, maximum: maximumPopulationElites} = this.normalize(recordPopulationElites);\n        const {normalized: normalizedNature} = this.normalize(recordNature);\n        const {normalized: normalizedWealth} = this.normalize(recordWealth);\n\n        // Un-normalize populations relative to one another.  FIXME: Wasteful, this transformation could be squashed with the default normalization.\n        const maxPop = Math.max(maximumPopulationCommoners, maximumPopulationElites);\n        const rescaledElites = normalizedElites.map((normalized: number) => normalized * maximumPopulationElites / maxPop);\n        const rescaledCommoners = normalizedCommoners.map((normalized: number) => normalized * maximumPopulationCommoners / maxPop);\n\n        // TODO: This is a pity, we're about to reduce data points from the oversampled simulation output,\n        // to speed up rendering.  Ideally we could show a debounce(100ms) outline of the curves while\n        // dragging a control, then do a final render on endDrag at full resolution.\n        const dataPoints = 300;\n        const skipFilter = (element: number, index: number) => index % (params.yearsToModel / dataPoints);\n\n        //const endMark = performance.now();\n        // console.debug('Simulation ran in', endMark - startMark, 'ms');\n\n        return {\n            datasets: [\n                rescaledCommoners.filter(skipFilter),\n                rescaledElites.filter(skipFilter),\n                normalizedNature.filter(skipFilter),\n                normalizedWealth.filter(skipFilter),\n            ],\n        };\n    }\n}\n","export interface SimulationParameters {\n    birthRateCommoners: number;\n    birthRateElites: number;\n    inequalityFactor: number;\n    depletionPerWorker: number;\n    minimumRequiredConsumptionPerCapita: number;\n    subsistenceSalaryPerCapita: number;\n    normalDeathRate: number;\n    famineDeathRate: number;\n    natureCapacity: number;\n    regenerationFactor: number;\n    yearsToModel: number;\n    initialPopulationCommoners: number;\n    initialPopulationElites: number;\n}\n\nexport const initialParams: SimulationParameters = {\n    birthRateCommoners: 0.03,\n    birthRateElites: 0.03,\n    inequalityFactor: 10,\n    // FIXME: depletion figure is a stolen guess.\n    depletionPerWorker: 0.000007,\n    // FIXME: This minimum consumption is a guess taken from other non-authors' HANDY\n    // implementations.  But why would it be higher than the subsistence salary?  Are\n    // they on different scales?\n    minimumRequiredConsumptionPerCapita: 0.005,\n    subsistenceSalaryPerCapita: 0.0005,\n    normalDeathRate: 0.0095,\n    famineDeathRate: 0.07,\n    natureCapacity: 100.0,\n    regenerationFactor: 0.01,\n    yearsToModel: 600,\n    initialPopulationCommoners: 100,\n    initialPopulationElites: 1,\n};\n","<template>\n  <svg\n    class=\"chart-svg\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, onMounted, watchEffect} from 'vue'\nimport * as d3 from 'd3';\nimport {SimulationResults} from \"@/HandySimulator\";\n\nconst charts = [\n  {\n    color: 'red',\n  },\n  {\n    color: 'blue',\n  },\n  {\n    color: 'green',\n  },\n  {\n    color: 'yellow',\n  },\n];\n\nexport default defineComponent({\n    name: 'LineChart',\n    props: {\n      chartData: {\n        required: true,\n        type: Object as () => SimulationResults,\n      }\n    },\n    setup(props) {\n      const margin = ({top: 5, right: 15, bottom: 25, left: 25});\n      const width = 400;\n      const height = 300;\n\n      const draw = function() {\n        const svg = d3\n          .select(\".chart-svg\")\n          .attr(\"viewBox\", `0 0 ${width} ${height}`)\n          .append(\"g\");\n\n        const x = d3\n          .scaleLinear()\n          // TODO: yearsToModel, or dynamic chart data length\n          .domain([0, 300])\n          .range([margin.left, width - margin.right]);\n        const y = d3\n          .scaleLinear()\n          //.domain([0, props.chartData.maximumPopupation])\n          .domain([0, 1])\n          .range([height - margin.bottom, margin.top]);\n\n        const line = d3.line<number>(\n          (_, i) => x(i),\n          v => y(v)\n        );\n\n        const lineSeries = svg.append(\"g\");\n\n        svg.append(\"g\")\n          .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n          .call(d3.axisBottom(x));\n\n        svg.append(\"g\")\n          .attr(\"transform\", `translate(${margin.left},0)`)\n          .call(d3.axisLeft(y));\n\n        function updateData(chartData: SimulationResults) {\n          lineSeries\n            .selectAll(\"path\")\n            .data(chartData.datasets)\n            .join(\"path\")\n\n            .attr(\"class\", \"line\")\n            .attr(\"stroke\", (_, i) => charts[i].color)\n            .attr(\"d\", d => line(d));\n        }\n        watchEffect(() => updateData(props.chartData));\n      };\n\n      onMounted(draw);\n\n      return {\n        draw,\n      }\n    },\n})\n</script>\n\n<style lang=\"scss\">\n  .chart-svg {\n    max-height: 100%;\n  }\n\n  .line {\n    fill: none;\n    stroke-width: 2px;\n    stroke-linejoin: round;\n    stroke-linecap: round;\n  }\n</style>\n","\nimport {defineComponent, onMounted, watchEffect} from 'vue'\nimport * as d3 from 'd3';\nimport {SimulationResults} from \"@/HandySimulator\";\n\nconst charts = [\n  {\n    color: 'red',\n  },\n  {\n    color: 'blue',\n  },\n  {\n    color: 'green',\n  },\n  {\n    color: 'yellow',\n  },\n];\n\nexport default defineComponent({\n    name: 'LineChart',\n    props: {\n      chartData: {\n        required: true,\n        type: Object as () => SimulationResults,\n      }\n    },\n    setup(props) {\n      const margin = ({top: 5, right: 15, bottom: 25, left: 25});\n      const width = 400;\n      const height = 300;\n\n      const draw = function() {\n        const svg = d3\n          .select(\".chart-svg\")\n          .attr(\"viewBox\", `0 0 ${width} ${height}`)\n          .append(\"g\");\n\n        const x = d3\n          .scaleLinear()\n          // TODO: yearsToModel, or dynamic chart data length\n          .domain([0, 300])\n          .range([margin.left, width - margin.right]);\n        const y = d3\n          .scaleLinear()\n          //.domain([0, props.chartData.maximumPopupation])\n          .domain([0, 1])\n          .range([height - margin.bottom, margin.top]);\n\n        const line = d3.line<number>(\n          (_, i) => x(i),\n          v => y(v)\n        );\n\n        const lineSeries = svg.append(\"g\");\n\n        svg.append(\"g\")\n          .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n          .call(d3.axisBottom(x));\n\n        svg.append(\"g\")\n          .attr(\"transform\", `translate(${margin.left},0)`)\n          .call(d3.axisLeft(y));\n\n        function updateData(chartData: SimulationResults) {\n          lineSeries\n            .selectAll(\"path\")\n            .data(chartData.datasets)\n            .join(\"path\")\n\n            .attr(\"class\", \"line\")\n            .attr(\"stroke\", (_, i) => charts[i].color)\n            .attr(\"d\", d => line(d));\n        }\n        watchEffect(() => updateData(props.chartData));\n      };\n\n      onMounted(draw);\n\n      return {\n        draw,\n      }\n    },\n})\n","import { render } from \"./LineChart.vue?vue&type=template&id=08654f47\"\nimport script from \"./LineChart.vue?vue&type=script&lang=ts\"\nexport * from \"./LineChart.vue?vue&type=script&lang=ts\"\n\nimport \"./LineChart.vue?vue&type=style&index=0&id=08654f47&lang=scss\"\nscript.render = render\n\nexport default script","\nimport {computed, defineComponent, ref} from 'vue'\nimport ParameterControls from \"@/components/ParameterControls.vue\";\nimport {HandySimulator} from '@/HandySimulator'\nimport {initialParams, SimulationParameters} from '@/store/SimulationParameters';\nimport LineChart from \"@/components/LineChart.vue\";\n\nexport default defineComponent({\n  components: {\n    LineChart,\n    ParameterControls,\n  },\n  setup() {\n    // Copy initial parameters.\n    const simulationParameters = ref({...initialParams});\n    const updateParameters = function(currentParameters: SimulationParameters) {\n      simulationParameters.value = currentParameters;\n    };\n\n    const chartData = computed(() => {\n      // TODO: Debounce, kill running simulation\n      return new HandySimulator()\n        .runSimulation(simulationParameters.value);\n    });\n\n    return {\n      chartData,\n      initialParams,\n      updateParameters,\n    }\n  }\n});\n","import { render } from \"./DetailedSimulation.vue?vue&type=template&id=a9fd9f3c\"\nimport script from \"./DetailedSimulation.vue?vue&type=script&lang=ts\"\nexport * from \"./DetailedSimulation.vue?vue&type=script&lang=ts\"\n\nimport \"./DetailedSimulation.vue?vue&type=style&index=0&id=a9fd9f3c&lang=css\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHistory } from 'vue-router';\nimport DetailedSimulation from \"@/views/DetailedSimulation.vue\";\n\nexport default createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes: [\n    {\n      path: '/',\n      name: 'detail',\n      component: DetailedSimulation,\n    },\n    {\n      path: '/about',\n      name: 'about',\n      // route level code-splitting\n      // this generates a separate chunk (about.[hash].js) for this route\n      // which is lazy-loaded when the route is visited.\n      component: () => import(/* webpackChunkName: \"about\" */ './views/About.vue'),\n    },\n  ],\n});\n","import { createI18n } from 'vue-i18n';\n\n// TODO: Locale changer should store a cookie.\n\nconst messages = {\n    de: {\n        about: 'Über-Seite',\n        birthRateCommoners: 'Geburtenrate der Arbeiter',\n        birthRateElites: 'Geburtenrate der Eliten',\n        depletionPerWorker: 'Erschöpfung pro Arbeiter',\n        inequalityFactor: 'Ungleichheitsfaktor',\n        detailPage: 'Ausführliche Simulation',\n    },\n    en: {\n        about: 'About',\n        birthRateCommoners: 'Workers birth rate',\n        birthRateElites: 'Elites birth rate',\n        depletionPerWorker: 'Depletion per worker',\n        inequalityFactor: 'Inequality factor',\n        detailPage: 'Interactive simulation',\n    },\n};\n\nfunction getBrowserLocale(options = {}): string | undefined {\n    const defaultOptions = { trimCountryCode: true }\n  \n    const opt = { ...defaultOptions, ...options }\n  \n    const navigatorLocale =\n      navigator.languages !== undefined\n        ? navigator.languages[0]\n        : navigator.language\n  \n    if (!navigatorLocale) {\n      return undefined\n    }\n  \n    const trimmedLocale = opt.trimCountryCode\n      ? navigatorLocale.trim().split(/-|_/)[0]\n      : navigatorLocale.trim()\n  \n    return trimmedLocale\n}\n\nexport const i18n = createI18n({\n    locale: getBrowserLocale(),\n    fallbackLocale: 'en',\n    messages,\n});","import { createApp } from 'vue';\nimport App from '@/App.vue';\nimport router from './router';\nimport { i18n } from \"./i18n\";\n\ncreateApp(App)\n    .use(router)\n    .use(i18n)\n    .mount('#app');\n"],"sourceRoot":""}